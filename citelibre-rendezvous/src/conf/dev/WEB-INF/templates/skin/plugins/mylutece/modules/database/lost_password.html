<div class="row">
    <div class="col-12 col-md-4 offset-md-3">
        <h2>#i18n{module.mylutece.database.xpage.lost_password.pageTitle}</h2>
        <#if action_successful?has_content>
            <h3>#i18n{module.mylutece.database.message.lost_password.success} : ${email}</h3>
            <form id="lostPassword" name="lostPassword" action="${action_successful}" method="post">
            <button class="btn btn-primary" id="button-return" type="submit" name="btnBack">
                <span class="ti ti-check"></span> #i18n{module.mylutece.database.xpage.account.btnBack}" />
            </button> 
            </form>
        <#else>
            <p>#i18n{module.mylutece.database.xpage.lost_password.text}</p>
            <#if error_code?has_content >
                <#assign typeClass = " is-invalid" />
                <#if error_code = "error_mandatory_fields">
                    <div class="alert alert-warning">#i18n{module.mylutece.database.message.account.errorMandatoryFields}</div>
                <#assign classEmail = typeClass />
                </#if>
                <#if error_code = "error_syntax_email">
                    <div class="alert alert-warning">#i18n{module.mylutece.database.message.account.errorBadEmail}</div>
                <#assign classEmail = typeClass />
                </#if>
                <#if error_code = "error_unknown_email">
                    <div class="alert alert-warning">#i18n{module.mylutece.database.message.lost_password.errorUnkownEmail}</div>
                </#if>
                <#if error_code = "error_sending_email">
                    <div class="alert alert-warning">#i18n{module.mylutece.database.message.lost_password.errorSendingEmail}</div>
                </#if>
            </#if>
            <form id="lostPassword" name="lostPassword" action="jsp/site/plugins/mylutece/modules/database/DoSendPassword.jsp" method="post">
            <input type="hidden" name="plugin_name" value="${plugin_name}">
            <div class="form-floating"> 
                <input class="form-control${classEmail?if_exists}" type="email" name="email" id="email" maxlength="100" value="">
                <label class="text-label" for="email">#i18n{module.mylutece.database.xpage.lost_password.email} *</label>
            </div>
            <div class="form-row mt-3">
                <button class="btn btn-primary" id="button-send" type="submit" name="btnSend">
                    <span class="ti ti-check"></span> #i18n{module.mylutece.database.xpage.lost_password.btnSend}
                </button>	
                <button class="btn btn-secondary" id="button-return" type="button" name="back" onclick='javascript:history.go(-1)'>
                    <span class="ti ti-circle-x"></span> #i18n{module.mylutece.database.xpage.account.btnBack}
                </button>	
            </div>  
            </form>
        </#if>
    </div>
</div>
